rule "Motion Sensor - Sala de Jantar"
when
    Item mihome_sensor_motion_aq2_158d0001e07c52_motion changed or
	Item mihome_sensor_motion_aq2_158d0001e07c52_illumination changed
then
	var toggleLightOnMotion = EnableLightOnMotion_SalaDeJantar.state
    var motionState = mihome_sensor_motion_aq2_158d0001e07c52_motion.state
	var illumination = mihome_sensor_motion_aq2_158d0001e07c52_illumination.state as DecimalType
	
	var shouldLightTurnOn =  (toggleLightOnMotion == ON) &&
							 (hue_sala_jantar.state == 0) && 
							 (motionState == ON) &&
							 (illumination < 9)
							 
							 
	var shouldLightTurnOff = (toggleLightOnMotion == ON) &&
							 (hue_sala_jantar.state > 0) &&
							 (motionState == OFF)
	
	if (shouldLightTurnOn)
	{
		sendCommand(hue_sala_jantar, ON)
	}
	
	if (shouldLightTurnOff)
	{
		sendCommand(hue_sala_jantar, OFF)
	}
end


rule "Motion Sensor - Sala de Estar"
when
    Item mihome_sensor_motion_sala_estar_motion changed or
	Item mihome_sensor_motion_sala_estar_illumination changed
then
	var toggleLightOnMotion = EnableLightOnMotion_SalaDeEstar.state
    var motionState = mihome_sensor_motion_sala_estar_motion.state
	var illumination = mihome_sensor_motion_sala_estar_illumination.state as DecimalType
	
	var shouldLightTurnOn =  (toggleLightOnMotion == ON) &&
							 (hue_sala_estar.state == 0) && 
							 (motionState == ON) &&
							 (illumination < 9)
							 
							 
	var shouldLightTurnOff = (toggleLightOnMotion == ON) &&
							 (hue_sala_estar.state > 0) &&
							 (motionState == OFF)
	
	if (shouldLightTurnOn)
	{
		sendCommand(hue_sala_estar, ON)
	}
	
	if (shouldLightTurnOff)
	{
		sendCommand(hue_sala_estar, OFF)
	}
end


rule "Motion Sensor - Quarto do Pedro"
when
    Item mihome_sensor_motion_quarto_pedro_motion changed or
	Item mihome_sensor_motion_quarto_pedro_illumination changed
then
	var toggleLightOnMotion = EnableLightOnMotion_QuartoPedro.state
    var motionState = mihome_sensor_motion_quarto_pedro_motion.state
	var illumination = mihome_sensor_motion_quarto_pedro_illumination.state as DecimalType
	
	var shouldLightTurnOn =  (toggleLightOnMotion == ON) &&
							 (hue_quarto_pedro.state == 0) && 
							 (motionState == ON) &&
							 (illumination < 9)
							 
							 
	var shouldLightTurnOff = (toggleLightOnMotion == ON) &&
							 (hue_quarto_pedro.state > 0) &&
							 (motionState == OFF)
	
	if (shouldLightTurnOn)
	{
		sendCommand(hue_quarto_pedro, ON)
	}
	
	if (shouldLightTurnOff)
	{
		sendCommand(hue_quarto_pedro, OFF)
	}
end